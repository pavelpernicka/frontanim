#!/bin/bash
#to ESRI:102031
temp_file=$(mktemp)
in=$1
out=$2
gdal_translate -of GTiff -gcp 379.603 508.592 -1.43576e+06 832021 -gcp 427.764 260.015 -587902 3.47698e+06 -gcp 344.684 193.858 -1.50661e+06 4.36171e+06 -gcp 244.398 196.931 -2.72541e+06 4.38475e+06 -gcp 346.21 36.0706 -1.60741e+06 6.40878e+06 -gcp 519.279 196.244 632915 4.03713e+06 -gcp 653.449 398.157 1.59173e+06 1.44484e+06 -gcp 731.106 332.946 2.56274e+06 1.8764e+06 -gcp 679.778 303.465 2.12211e+06 2.35073e+06 -gcp 369.368 343.926 -1.34614e+06 2.58233e+06 -gcp 367.224 426.56 -1.47444e+06 1.67294e+06 -gcp 624.773 540.279 981406 128903 -gcp 738.687 477.524 2.32615e+06 513945 -gcp 522.845 397.716 224867 1.73969e+06 -gcp 535.805 478.304 220030 877702 -gcp 399.576 378.714 -1.0715e+06 2.15956e+06 -gcp 538.972 40.3836 1.52994e+06 5.87744e+06 -gcp 579.802 139.729 1.558e+06 4.49013e+06 -gcp 625.211 72.297 2.3778e+06 5.1172e+06 -gcp 627.355 36.8268 2.58633e+06 5.51108e+06 -gcp 596.66 32.4418 2.27353e+06 5.72424e+06 -gcp 415.411 71.2251 -473245 5.79839e+06 -gcp 286.588 100.069 -2.25964e+06 5.54468e+06 -gcp 113.915 239.124 -4.19316e+06 3.822e+06 -gcp 66.6537 132.323 -4.93227e+06 4.95732e+06 -gcp 84.5836 59.824 -4.73301e+06 5.71498e+06 -gcp 35.666 176.564 -5.06434e+06 4.4082e+06 -gcp 86.3377 193.129 -4.51753e+06 4.27845e+06 -gcp 142.564 197.125 -3.89658e+06 4.28077e+06 -gcp 191.628 113.37 -3.40538e+06 5.31182e+06 -gcp 157.375 171.058 -3.73594e+06 4.58429e+06 -gcp 189.532 50.1282 -3.52393e+06 6.0297e+06 -gcp 116.984 41.5529 -4.37195e+06 6.01734e+06 -gcp 117.861 22.8921 -4.40516e+06 6.2112e+06 -gcp 155.378 52.7105 -3.91705e+06 5.94552e+06 -gcp 116.789 55.4389 -4.35264e+06 5.85284e+06 -gcp 187.925 90.9091 -3.49227e+06 5.58098e+06 -gcp 216.574 45.3046 -3.19673e+06 6.13705e+06 -gcp 198.449 108.059 -3.32442e+06 5.37091e+06 -gcp 237.232 78.1437 -2.92075e+06 5.78075e+06 -gcp 244.053 46.0842 -2.86926e+06 6.19266e+06 -gcp 185.586 22.9896 -3.60863e+06 6.34095e+06 -gcp 200.3 38.1911 -3.4171e+06 6.20708e+06 -gcp 290.047 28.3491 -2.34408e+06 6.48717e+06 "${in}" "${temp_file}"
gdalwarp -r bilinear -tps -co COMPRESS=NONE  -t_srs "+proj=eqdc +lat_0=30 +lon_0=10 +lat_1=43 +lat_2=62 +x_0=0 +y_0=0 +ellps=intl +units=m +no_defs" "${temp_file}" "${out}"
rm "${temp_file}"
